<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mapio package &mdash; MapIO 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="MapIO 0.1 documentation" href="index.html" />
    <link rel="prev" title="Welcome to MapIO’s documentation!" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index.html" title="Welcome to MapIO’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MapIO 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mapio-package">
<h1>mapio package<a class="headerlink" href="#mapio-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mapio-grid2d-module">
<h2>mapio.grid2d module<a class="headerlink" href="#mapio-grid2d-module" title="Permalink to this headline">¶</a></h2>
<p>A partially abstract subclass of Grid to represent 2D lat/lon gridded datasets. Some basic methods
are implemented here, enough so that all functions of working with data (aside from loading and saving)
can be used with this class.  Grids are assumed to be pixel-registered - that is, grid coordinates
represent the value at the <em>center</em> of the cells.</p>
<p>Usage:</p>
<p>Creating a Grid2D object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">nrows</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">ncols</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">119.0</span><span class="p">,</span><span class="o">-</span><span class="mf">117.0</span><span class="p">,</span><span class="mf">32.0</span><span class="p">,</span><span class="mf">34.0</span><span class="p">)</span>
<span class="n">xdim</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">ydim</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">geodict</span> <span class="o">=</span> <span class="n">Grid2D</span><span class="o">.</span><span class="n">fixGeoDict</span><span class="p">(</span><span class="n">bounds</span><span class="p">,</span><span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span><span class="p">,</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">preserve</span><span class="o">=</span><span class="s">&#39;shape&#39;</span><span class="p">)</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">Grid2D</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">geodict</span><span class="p">)</span>
</pre></div>
</div>
<p>Interpolating a smaller area inside that grid.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">subbounds</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">118.7834</span><span class="p">,</span><span class="o">-</span><span class="mf">117.0123</span><span class="p">,</span><span class="mf">32.8754</span><span class="p">,</span><span class="mf">33.7896</span><span class="p">)</span>
<span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span> <span class="o">=</span> <span class="p">(</span><span class="n">geodict</span><span class="p">[</span><span class="s">&#39;xdim&#39;</span><span class="p">],</span><span class="n">geodict</span><span class="p">[</span><span class="s">&#39;ydim&#39;</span><span class="p">])</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="n">ncols</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">subgeodict</span> <span class="o">=</span> <span class="n">Grid2D</span><span class="o">.</span><span class="n">fixGeoDict</span><span class="p">(</span><span class="n">bounds</span><span class="p">,</span><span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span><span class="p">,</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">preserve</span><span class="o">=</span><span class="s">&#39;dims&#39;</span><span class="p">)</span>
<span class="n">interpgrid</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">interpolateToGrid</span><span class="p">(</span><span class="n">subgeodict</span><span class="p">)</span>
</pre></div>
</div>
<p>This class is a semi-abstract implementation of the Grid superclass - that is, it implements a number
of useful functions for creating and manipulating 2D grid objects, but no methods for reading or
writing those grids to disk in standard file formats.  For that, see:</p>
<blockquote>
<div><ul class="simple">
<li>GMTGrid</li>
<li>GDALGrid</li>
<li>ShakeGrid</li>
<li>MultiHazardGrid</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="mapio.grid2d.Grid2D">
<em class="property">class </em><code class="descclassname">mapio.grid2d.</code><code class="descname">Grid2D</code><span class="sig-paren">(</span><em>data=None</em>, <em>geodict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="mapio.grid2d.Grid2D.blockmean">
<code class="descname">blockmean</code><span class="sig-paren">(</span><em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.grid2d.Grid2D.blockmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to calculate average values for cells of larger size than the current grid.
:param geodict:</p>
<blockquote>
<div>Geodict that defines the new coarser grid.</div></blockquote>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.grid2d.Grid2D.copyFromGrid">
<em class="property">classmethod </em><code class="descname">copyFromGrid</code><span class="sig-paren">(</span><em>grid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.copyFromGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.copyFromGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy constructor - can be used to create an instance of any Grid2D subclass from another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grid</strong> &#8211; Any Grid2D instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A copy of the data in that input Grid2D instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.fixGeoDict">
<code class="descname">fixGeoDict</code><span class="sig-paren">(</span><em>bounds</em>, <em>xdim</em>, <em>ydim</em>, <em>nrows</em>, <em>ncols</em>, <em>preserve='dims'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.grid2d.Grid2D.fixGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full geodict, with either input dimensions preserved or input shape/bounds preserved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax).  May be changed when preserve=&#8217;dims&#8217;.</li>
<li><strong>xdim</strong> &#8211; Width of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>ydim</strong> &#8211; Height of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>nrows</strong> &#8211; Number of rows.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>ncols</strong> &#8211; Number of columns.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>preserve</strong> &#8211; One of &#8216;dims&#8217; or &#8216;shape&#8217;.  Setting this to &#8216;dims&#8217; will keep input xdim/ydim values, 
and potentially modify the bounds and/or nrows/ncols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getBounds">
<code class="descname">getBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.getBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.getBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lon/lat range of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Tuple of (lonmin,lonmax,latmin,latmax)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getBoundsWithin">
<code class="descname">getBoundsWithin</code><span class="sig-paren">(</span><em>filename</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.grid2d.Grid2D.getBoundsWithin" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to return a geodict for this file that is guaranteed to be inside the input geodict defined, without resampling.
:param filename:</p>
<blockquote>
<div>The name of the file whose resolution/extent should be used.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; The geodict which is used as the base for finding the bounds for this file guaranteed to be inside of this geodict.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises NotImplementedError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Always in base class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getData">
<code class="descname">getData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.getData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the data inside the Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A reference to a 2D numpy array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getFileGeoDict">
<code class="descname">getFileGeoDict</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.grid2d.Grid2D.getFileGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to return the bounding box, resolution, and shape of a file in whatever Grid format.
:param filename:</p>
<blockquote>
<div>The path to the filename of whatever grid format this is being implemented in.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A geodict specifying the bounding box, resolution, and shape of the data in a file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getGeoDict">
<code class="descname">getGeoDict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.getGeoDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.getGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the geodict inside the Grid.
:returns:</p>
<blockquote>
<div>A reference to a dictionary (see constructor).</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getLatLon">
<code class="descname">getLatLon</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.getLatLon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.getLatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return geographic coordinates (lat/lon decimal degrees) for given data row and column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> &#8211; Row dimension index into internal data array.</li>
<li><strong>col</strong> &#8211; Column dimension index into internal data array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of latitude and longitude.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getRowCol">
<code class="descname">getRowCol</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>returnFloat=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.getRowCol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.getRowCol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data row and column from given geographic coordinates (lat/lon decimal degrees).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Input latitude.</li>
<li><strong>lon</strong> &#8211; Input longitude.</li>
<li><strong>returnFloat</strong> &#8211; Boolean indicating whether floating point row/col coordinates should be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of row and column.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.getValue">
<code class="descname">getValue</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>method='nearest'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy array at given latitude and longitude (using nearest neighbor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude (in decimal degrees) of desired data value.</li>
<li><strong>lon</strong> &#8211; Longitude (in decimal degrees) of desired data value.</li>
<li><strong>method</strong> &#8211; Interpolation method, one of (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>default</strong> &#8211; Default value to return when lat/lon is outside of grid bounds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value at input latitude,longitude position.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.interpolateToGrid">
<code class="descname">interpolateToGrid</code><span class="sig-paren">(</span><em>geodict</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.interpolateToGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.interpolateToGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a geodict specifying another grid extent and resolution, resample current grid to match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>geodict</strong> &#8211; geodict dictionary from another grid whose extents are inside the extent of this grid.</li>
<li><strong>method</strong> &#8211; Optional interpolation method - [&#8216;linear&#8217;, &#8216;cubic&#8217;,&#8217;nearest&#8217;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>DataSetException</strong> &#8211; If the Grid object upon which this function is being called is not completely contained by the grid to which this Grid is being resampled.</li>
<li><strong>DataSetException</strong> &#8211; If the method is not one of [&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;]
If the resulting interpolated grid shape does not match input geodict.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function modifies the internal griddata and geodict object variables.</p>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.loadFromCloud">
<code class="descname">loadFromCloud</code><span class="sig-paren">(</span><em>cloud</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.grid2d.Grid2D.loadFromCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a grid from a Cloud instance (scattered XY data).
:param cloud:</p>
<blockquote>
<div>A Cloud instance containing scattered XY data.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; A geodict object where nrows/ncols are optional (will be calculated from bounds/cell dimensions)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of a Grid object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.grid2d.Grid2D.rasterizeFromGeometry">
<em class="property">classmethod </em><code class="descname">rasterizeFromGeometry</code><span class="sig-paren">(</span><em>shapes</em>, <em>samplegeodict</em>, <em>burnValue=1.0</em>, <em>fillValue=nan</em>, <em>allTouched=True</em>, <em>attribute=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.rasterizeFromGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.rasterizeFromGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Grid2D object from vector shapes, where the presence of a shape (point, line, polygon) inside a cell turns that cell &#8220;on&#8221;.
:param shapes:</p>
<blockquote>
<div><dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li>One shapely geometry object (Point, Polygon, etc.) or a sequence of such objects</li>
<li>One GeoJSON like object or sequence of such objects. (<a class="reference external" href="http://geojson.org/">http://geojson.org/</a>)</li>
<li>A tuple of (geometry,value) or sequence of (geometry,value).</li>
</ul>
</dd>
</dl>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samplegeodict</strong> &#8211; GeoDict with at least xmin,xmax,ymin,ymax,xdim,ydim values set.</li>
<li><strong>burnValue</strong> &#8211; Optional value which will be used to set the value of the pixels if there is no value in the geometry field.</li>
<li><strong>fillValue</strong> &#8211; Optional value which will be used to fill the cells not touched by any geometry.</li>
<li><strong>allTouched</strong> &#8211; Optional boolean which indicates whether the geometry must touch the center of the cell or merely be inside the cell in order to set the value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">When geometry input is not a subclass of shapely.geometry.base.BaseGeometry.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Grid2D object.</p>
</td>
</tr>
</tbody>
</table>
<p>This method is a thin wrapper around rasterio-&gt;features-&gt;rasterize(), documented here:
<a class="reference external" href="https://github.com/mapbox/rasterio/blob/master/docs/features.rst">https://github.com/mapbox/rasterio/blob/master/docs/features.rst</a></p>
<p>which is itself a Python wrapper around the functionality found in gdal_rasterize, documented here:
<a class="reference external" href="http://www.gdal.org/gdal_rasterize.html">http://www.gdal.org/gdal_rasterize.html</a></p>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.setData">
<code class="descname">setData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.grid2d.Grid2D.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the data inside the Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; numpy array of desired data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.grid2d.Grid2D.trim">
<code class="descname">trim</code><span class="sig-paren">(</span><em>bounds</em>, <em>resample=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/grid2d.html#Grid2D.trim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.grid2d.Grid2D.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim data to a smaller set of bounds, resampling if requested.  If not resampling,
data will be trimmed to largest grid boundary possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (lonmin,lonmax,latmin,latmax)</li>
<li><strong>resample</strong> &#8211; Boolean indicating whether the data should be resampled to <em>exactly</em> match input bounds.</li>
<li><strong>method</strong> &#8211; If resampling, method used, one of (&#8216;linear&#8217;,&#8217;nearest&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mapio-gdal-module">
<h2>mapio.gdal module<a class="headerlink" href="#mapio-gdal-module" title="Permalink to this headline">¶</a></h2>
<p>Grid2D subclass for reading,writing, and manipulating ESRI format
grids.</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=BIL,_BIP,_and_BSQ_raster_files">Integer Format (BIL/BIP/BSQ) Description</a></li>
<li><a class="reference external" href="http://resources.esri.com/help/9.3/arcgisdesktop/com/gp_toolref/conversion_tools/float_to_raster_conversion_.htm">Float Format (FLT) Description</a></li>
</ul>
</div></blockquote>
<p>Usage:</p>
<p>Getting the geo-referencing information about a grid</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fgeodict</span> <span class="o">=</span> <span class="n">GDALGrid</span><span class="o">.</span><span class="n">getFileGeoDict</span><span class="p">(</span><span class="n">gmtfile</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmax&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymax&#39;</span><span class="p">]]</span>
<span class="k">print</span> <span class="s">&#39;The file spans from </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in longitude, and </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in latitude.&#39;</span> <span class="o">%</span> <span class="n">bounds</span>
</pre></div>
</div>
<p>Loading a subset of the data contained in the file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span> <span class="o">=</span> <span class="p">(</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xdim&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ydim&#39;</span><span class="p">])</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="n">ncols</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">geodict</span> <span class="o">=</span> <span class="n">GDALGrid</span><span class="o">.</span><span class="n">fixGeoDict</span><span class="p">(</span><span class="n">bounds</span><span class="p">,</span><span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span><span class="p">,</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">preserve</span><span class="o">=</span><span class="s">&#39;dims&#39;</span><span class="p">)</span>
<span class="n">gmtgrid</span> <span class="o">=</span> <span class="n">GDALGrid</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">gmtfilename</span><span class="p">,</span><span class="n">samplegeodict</span><span class="o">=</span><span class="n">geodict</span><span class="p">)</span>
</pre></div>
</div>
<p>This class supports reading and writing of ESRI floating point and integer formats (.flt, .bil/.bip/.bsq).</p>
<dl class="class">
<dt id="mapio.gdal.GDALGrid">
<em class="property">class </em><code class="descclassname">mapio.gdal.</code><code class="descname">GDALGrid</code><span class="sig-paren">(</span><em>data</em>, <em>geodict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gdal.html#GDALGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gdal.GDALGrid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="mapio.gdal.GDALGrid.blockmean">
<code class="descname">blockmean</code><span class="sig-paren">(</span><em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.blockmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to calculate average values for cells of larger size than the current grid.
:param geodict:</p>
<blockquote>
<div>Geodict that defines the new coarser grid.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.copyFromGrid">
<code class="descname">copyFromGrid</code><span class="sig-paren">(</span><em>grid</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.copyFromGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy constructor - can be used to create an instance of any Grid2D subclass from another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grid</strong> &#8211; Any Grid2D instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A copy of the data in that input Grid2D instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.fixGeoDict">
<code class="descname">fixGeoDict</code><span class="sig-paren">(</span><em>bounds</em>, <em>xdim</em>, <em>ydim</em>, <em>nrows</em>, <em>ncols</em>, <em>preserve='dims'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.fixGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full geodict, with either input dimensions preserved or input shape/bounds preserved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax).  May be changed when preserve=&#8217;dims&#8217;.</li>
<li><strong>xdim</strong> &#8211; Width of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>ydim</strong> &#8211; Height of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>nrows</strong> &#8211; Number of rows.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>ncols</strong> &#8211; Number of columns.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>preserve</strong> &#8211; One of &#8216;dims&#8217; or &#8216;shape&#8217;.  Setting this to &#8216;dims&#8217; will keep input xdim/ydim values, 
and potentially modify the bounds and/or nrows/ncols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.getBounds">
<code class="descname">getBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.getBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lon/lat range of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Tuple of (lonmin,lonmax,latmin,latmax)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gdal.GDALGrid.getBoundsWithin">
<em class="property">classmethod </em><code class="descname">getBoundsWithin</code><span class="sig-paren">(</span><em>filename</em>, <em>geodict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gdal.html#GDALGrid.getBoundsWithin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gdal.GDALGrid.getBoundsWithin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a geodict for a file that is guaranteed to be contained by an input geodict.
:param filename:</p>
<blockquote>
<div>Path to an ESRI grid file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; Geodict defining a spatial extent that we want to envelope the returned geodict.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A geodict that is guaranteed to be contained by input geodict.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.getData">
<code class="descname">getData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the data inside the Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A reference to a 2D numpy array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gdal.GDALGrid.getFileGeoDict">
<em class="property">classmethod </em><code class="descname">getFileGeoDict</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gdal.html#GDALGrid.getFileGeoDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gdal.GDALGrid.getFileGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spatial extent, resolution, and shape of grid inside ESRI grid file.
:param filename:</p>
<blockquote>
<div>File name of ESRI grid file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li>GeoDict specifying spatial extent, resolution, and shape of grid inside ESRI grid file.</li>
<li>xvar array specifying X coordinates of data columns</li>
<li>yvar array specifying Y coordinates of data rows</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">When the file contains a grid with more than one band.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.getGeoDict">
<code class="descname">getGeoDict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.getGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the geodict inside the Grid.
:returns:</p>
<blockquote>
<div>A reference to a dictionary (see constructor).</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.getLatLon">
<code class="descname">getLatLon</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.getLatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return geographic coordinates (lat/lon decimal degrees) for given data row and column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> &#8211; Row dimension index into internal data array.</li>
<li><strong>col</strong> &#8211; Column dimension index into internal data array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of latitude and longitude.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.getRowCol">
<code class="descname">getRowCol</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>returnFloat=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.getRowCol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data row and column from given geographic coordinates (lat/lon decimal degrees).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Input latitude.</li>
<li><strong>lon</strong> &#8211; Input longitude.</li>
<li><strong>returnFloat</strong> &#8211; Boolean indicating whether floating point row/col coordinates should be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of row and column.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.getValue">
<code class="descname">getValue</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>method='nearest'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy array at given latitude and longitude (using nearest neighbor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude (in decimal degrees) of desired data value.</li>
<li><strong>lon</strong> &#8211; Longitude (in decimal degrees) of desired data value.</li>
<li><strong>method</strong> &#8211; Interpolation method, one of (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>default</strong> &#8211; Default value to return when lat/lon is outside of grid bounds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value at input latitude,longitude position.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.interpolateToGrid">
<code class="descname">interpolateToGrid</code><span class="sig-paren">(</span><em>geodict</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.interpolateToGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a geodict specifying another grid extent and resolution, resample current grid to match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>geodict</strong> &#8211; geodict dictionary from another grid whose extents are inside the extent of this grid.</li>
<li><strong>method</strong> &#8211; Optional interpolation method - [&#8216;linear&#8217;, &#8216;cubic&#8217;,&#8217;nearest&#8217;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>DataSetException</strong> &#8211; If the Grid object upon which this function is being called is not completely contained by the grid to which this Grid is being resampled.</li>
<li><strong>DataSetException</strong> &#8211; If the method is not one of [&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;]
If the resulting interpolated grid shape does not match input geodict.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function modifies the internal griddata and geodict object variables.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gdal.GDALGrid.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>filename</em>, <em>samplegeodict=None</em>, <em>preserve='dims'</em>, <em>resample=False</em>, <em>method='linear'</em>, <em>doPadding=False</em>, <em>padValue=nan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gdal.html#GDALGrid.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gdal.GDALGrid.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a GDALGrid object from a (possibly subsetted, resampled, or padded) GDAL-compliant grid file.
:param filename:</p>
<blockquote>
<div>Name of input file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samplegeodict</strong> &#8211; GeoDict used to specify subset bounds and resolution (if resample is selected)</li>
<li><strong>preserve</strong> &#8211; String (one of &#8216;dims&#8217;,&#8217;shape&#8217;) indicating whether xdim/ydim of input geodict should be preserved or nrows/ncols.</li>
<li><strong>resample</strong> &#8211; Boolean used to indicate whether grid should be resampled from the file based on samplegeodict.</li>
<li><strong>method</strong> &#8211; If resample=True, resampling method to use (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>doPadding</strong> &#8211; Boolean used to indicate whether, if samplegeodict is outside bounds of grid, to pad values around the edges.</li>
<li><strong>padValue</strong> &#8211; Value to fill in around the edges if doPadding=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">GDALgrid instance (possibly subsetted, padded, or resampled)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last"><ul class="simple">
<li>When sample bounds are outside (or too close to outside) the bounds of the grid and doPadding=False.</li>
<li>When the input file type is not recognized.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.loadFromCloud">
<code class="descname">loadFromCloud</code><span class="sig-paren">(</span><em>cloud</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.loadFromCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a grid from a Cloud instance (scattered XY data).
:param cloud:</p>
<blockquote>
<div>A Cloud instance containing scattered XY data.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; A geodict object where nrows/ncols are optional (will be calculated from bounds/cell dimensions)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of a Grid object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.rasterizeFromGeometry">
<code class="descname">rasterizeFromGeometry</code><span class="sig-paren">(</span><em>shapes</em>, <em>samplegeodict</em>, <em>burnValue=1.0</em>, <em>fillValue=nan</em>, <em>allTouched=True</em>, <em>attribute=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.rasterizeFromGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Grid2D object from vector shapes, where the presence of a shape (point, line, polygon) inside a cell turns that cell &#8220;on&#8221;.
:param shapes:</p>
<blockquote>
<div><dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li>One shapely geometry object (Point, Polygon, etc.) or a sequence of such objects</li>
<li>One GeoJSON like object or sequence of such objects. (<a class="reference external" href="http://geojson.org/">http://geojson.org/</a>)</li>
<li>A tuple of (geometry,value) or sequence of (geometry,value).</li>
</ul>
</dd>
</dl>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samplegeodict</strong> &#8211; GeoDict with at least xmin,xmax,ymin,ymax,xdim,ydim values set.</li>
<li><strong>burnValue</strong> &#8211; Optional value which will be used to set the value of the pixels if there is no value in the geometry field.</li>
<li><strong>fillValue</strong> &#8211; Optional value which will be used to fill the cells not touched by any geometry.</li>
<li><strong>allTouched</strong> &#8211; Optional boolean which indicates whether the geometry must touch the center of the cell or merely be inside the cell in order to set the value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">When geometry input is not a subclass of shapely.geometry.base.BaseGeometry.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Grid2D object.</p>
</td>
</tr>
</tbody>
</table>
<p>This method is a thin wrapper around rasterio-&gt;features-&gt;rasterize(), documented here:
<a class="reference external" href="https://github.com/mapbox/rasterio/blob/master/docs/features.rst">https://github.com/mapbox/rasterio/blob/master/docs/features.rst</a></p>
<p>which is itself a Python wrapper around the functionality found in gdal_rasterize, documented here:
<a class="reference external" href="http://www.gdal.org/gdal_rasterize.html">http://www.gdal.org/gdal_rasterize.html</a></p>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gdal.GDALGrid.readGDAL">
<em class="property">classmethod </em><code class="descname">readGDAL</code><span class="sig-paren">(</span><em>filename</em>, <em>bounds=None</em>, <em>firstColumnDuplicated=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gdal.html#GDALGrid.readGDAL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gdal.GDALGrid.readGDAL" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an ESRI flt/bip/bil/bsq formatted file using rasterIO (GDAL Python wrapper).
:param filename:</p>
<blockquote>
<div>Input ESRI formatted grid file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax)</li>
<li><strong>firstColumnDuplicated</strong> &#8211; Indicate whether the last column is the same as the first column.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple of (data,geodict) where data is a 2D numpy array of all data found inside bounds, and 
geodict gives the geo-referencing information for the data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename</em>, <em>format='EHdr'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gdal.html#GDALGrid.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gdal.GDALGrid.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the data contained in this grid to a float or integer ESRI grid file.  Described here:
<a class="reference external" href="http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=BIL,_BIP,_and_BSQ_raster_files">http://webhelp.esri.com/arcgisdesktop/9.3/index.cfm?TopicName=BIL,_BIP,_and_BSQ_raster_files</a>
<a class="reference external" href="http://resources.esri.com/help/9.3/arcgisdesktop/com/gp_toolref/conversion_tools/">http://resources.esri.com/help/9.3/arcgisdesktop/com/gp_toolref/conversion_tools/</a><a href="#id1"><span class="problematic" id="id2">float_to_raster_conversion_</span></a>.htm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; String representing file to which data should be saved.</li>
<li><strong>format</strong> &#8211; Currently this code only supports the GDAL format &#8216;EHdr&#8217; (see formats above.)  As rasterIO write support is expanded, this code should add functionality accordingly.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">When format is not &#8216;EHdr&#8217;.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.setData">
<code class="descname">setData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the data inside the Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; numpy array of desired data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gdal.GDALGrid.trim">
<code class="descname">trim</code><span class="sig-paren">(</span><em>bounds</em>, <em>resample=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gdal.GDALGrid.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim data to a smaller set of bounds, resampling if requested.  If not resampling,
data will be trimmed to largest grid boundary possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (lonmin,lonmax,latmin,latmax)</li>
<li><strong>resample</strong> &#8211; Boolean indicating whether the data should be resampled to <em>exactly</em> match input bounds.</li>
<li><strong>method</strong> &#8211; If resampling, method used, one of (&#8216;linear&#8217;,&#8217;nearest&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mapio-gmt-module">
<h2>mapio.gmt module<a class="headerlink" href="#mapio-gmt-module" title="Permalink to this headline">¶</a></h2>
<p>Grid2D subclass for reading,writing, and manipulating GMT format grids.</p>
<p>Usage:</p>
<p>Getting the geo-referencing information about a grid</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fgeodict</span> <span class="o">=</span> <span class="n">GMTGrid</span><span class="o">.</span><span class="n">getFileGeoDict</span><span class="p">(</span><span class="n">gmtfile</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmax&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymax&#39;</span><span class="p">]]</span>
<span class="k">print</span> <span class="s">&#39;The file spans from </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in longitude, and </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in latitude.&#39;</span> <span class="o">%</span> <span class="n">bounds</span>
</pre></div>
</div>
<p>Loading a subset of the data contained in the file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span> <span class="o">=</span> <span class="p">(</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xdim&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ydim&#39;</span><span class="p">])</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="n">ncols</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">geodict</span> <span class="o">=</span> <span class="n">GMTGrid</span><span class="o">.</span><span class="n">fixGeoDict</span><span class="p">(</span><span class="n">bounds</span><span class="p">,</span><span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span><span class="p">,</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">preserve</span><span class="o">=</span><span class="s">&#39;dims&#39;</span><span class="p">)</span>
<span class="n">gmtgrid</span> <span class="o">=</span> <span class="n">GMTGrid</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">gmtfilename</span><span class="p">,</span><span class="n">samplegeodict</span><span class="o">=</span><span class="n">geodict</span><span class="p">)</span>
</pre></div>
</div>
<p>This class supports reading and writing of all three GMT formats: NetCDF, HDF, and the GMT &#8220;native&#8221; format.</p>
<dl class="class">
<dt id="mapio.gmt.GMTGrid">
<em class="property">class </em><code class="descclassname">mapio.gmt.</code><code class="descname">GMTGrid</code><span class="sig-paren">(</span><em>data</em>, <em>geodict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Grid2D subclass for reading,writing, and manipulating GMT format grids.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>gmtgrid = GMTGrid.load(gmtfilename)
gmtgrid.getGeoDict()

This class supports reading and writing of all three GMT formats: NetCDF, HDF, and the GMT &quot;native&quot; format.
</pre></div>
</div>
<dl class="method">
<dt id="mapio.gmt.GMTGrid.blockmean">
<code class="descname">blockmean</code><span class="sig-paren">(</span><em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.blockmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to calculate average values for cells of larger size than the current grid.
:param geodict:</p>
<blockquote>
<div>Geodict that defines the new coarser grid.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.copyFromGrid">
<code class="descname">copyFromGrid</code><span class="sig-paren">(</span><em>grid</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.copyFromGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy constructor - can be used to create an instance of any Grid2D subclass from another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grid</strong> &#8211; Any Grid2D instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A copy of the data in that input Grid2D instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.fixGeoDict">
<code class="descname">fixGeoDict</code><span class="sig-paren">(</span><em>bounds</em>, <em>xdim</em>, <em>ydim</em>, <em>nrows</em>, <em>ncols</em>, <em>preserve='dims'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.fixGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full geodict, with either input dimensions preserved or input shape/bounds preserved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax).  May be changed when preserve=&#8217;dims&#8217;.</li>
<li><strong>xdim</strong> &#8211; Width of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>ydim</strong> &#8211; Height of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>nrows</strong> &#8211; Number of rows.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>ncols</strong> &#8211; Number of columns.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>preserve</strong> &#8211; One of &#8216;dims&#8217; or &#8216;shape&#8217;.  Setting this to &#8216;dims&#8217; will keep input xdim/ydim values, 
and potentially modify the bounds and/or nrows/ncols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.getBounds">
<code class="descname">getBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.getBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lon/lat range of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Tuple of (lonmin,lonmax,latmin,latmax)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.getBoundsWithin">
<em class="property">classmethod </em><code class="descname">getBoundsWithin</code><span class="sig-paren">(</span><em>filename</em>, <em>geodict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.getBoundsWithin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.getBoundsWithin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a geodict for a file that is guaranteed to be contained by an input geodict.
:param filename:</p>
<blockquote>
<div>Path to an GMT grid file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; Geodict defining a spatial extent that we want to envelope the returned geodict.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A geodict that is guaranteed to be contained by input geodict.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.getData">
<code class="descname">getData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the data inside the Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A reference to a 2D numpy array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.getFileGeoDict">
<em class="property">classmethod </em><code class="descname">getFileGeoDict</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.getFileGeoDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.getFileGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spatial extent, resolution, and shape of grid inside NetCDF file.
:param filename:</p>
<blockquote>
<div>File name of NetCDF file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">GeoDict specifying spatial extent, resolution, and shape of grid inside NetCDF file.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">When the file is not detectable as one of the three flavors of GMT grids.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.getFileType">
<em class="property">classmethod </em><code class="descname">getFileType</code><span class="sig-paren">(</span><em>grdfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.getFileType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.getFileType" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the GMT sub-format (netcdf, hdf, or GMT binary).
:param grdfile:</p>
<blockquote>
<div>File name of suspected GMT grid file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">One of &#8216;netcdf&#8217; (NetCDF version 3), &#8216;hdf&#8217; (NetCDF version 4), &#8216;native&#8217; (so-called GMT native format), or &#8216;unknown&#8217;.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.getGeoDict">
<code class="descname">getGeoDict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.getGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the geodict inside the Grid.
:returns:</p>
<blockquote>
<div>A reference to a dictionary (see constructor).</div></blockquote>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.getHDFHeader">
<em class="property">classmethod </em><code class="descname">getHDFHeader</code><span class="sig-paren">(</span><em>hdffile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.getHDFHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.getHDFHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header information from a GMT NetCDF4 (HDF) file.
:param fname:</p>
<blockquote>
<div>File name of GMT NetCDF4 grid</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">GeoDict specifying spatial extent, resolution, and shape of grid inside NetCDF file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.getLatLon">
<code class="descname">getLatLon</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.getLatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return geographic coordinates (lat/lon decimal degrees) for given data row and column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> &#8211; Row dimension index into internal data array.</li>
<li><strong>col</strong> &#8211; Column dimension index into internal data array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of latitude and longitude.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.getNativeHeader">
<em class="property">classmethod </em><code class="descname">getNativeHeader</code><span class="sig-paren">(</span><em>fname</em>, <em>fmt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.getNativeHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.getNativeHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header information from a GMT native grid file.
:param fname:</p>
<blockquote>
<div>File name of GMT native grid</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fmt</strong> &#8211; <dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li>&#8216;h&#8217; for 16 bit signed integer</li>
<li>&#8216;i&#8217; for 32 bit signed integer</li>
<li>&#8216;f&#8217; for 32 bit float</li>
<li>&#8216;d&#8217; for 64 bit float</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li>GeoDict specifying spatial extent, resolution, and shape of grid inside NetCDF file.</li>
<li>xvar array specifying X coordinates of data columns</li>
<li>yvar array specifying Y coordinates of data rows</li>
<li>fmt If input fmt is None, this will be a best guess as to the data format in the file.</li>
<li>zscale Data multiplier</li>
<li>zoffset Value to be added to data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.getNetCDFHeader">
<em class="property">classmethod </em><code class="descname">getNetCDFHeader</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.getNetCDFHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.getNetCDFHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header information from a GMT NetCDF3 file.
:param fname:</p>
<blockquote>
<div>File name of GMT NetCDF3 grid</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li>GeoDict specifying spatial extent, resolution, and shape of grid inside NetCDF file.</li>
<li>xvar array specifying X coordinates of data columns</li>
<li>xvar array specifying Y coordinates of data rows</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.getRowCol">
<code class="descname">getRowCol</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>returnFloat=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.getRowCol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data row and column from given geographic coordinates (lat/lon decimal degrees).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Input latitude.</li>
<li><strong>lon</strong> &#8211; Input longitude.</li>
<li><strong>returnFloat</strong> &#8211; Boolean indicating whether floating point row/col coordinates should be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of row and column.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.getValue">
<code class="descname">getValue</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>method='nearest'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy array at given latitude and longitude (using nearest neighbor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude (in decimal degrees) of desired data value.</li>
<li><strong>lon</strong> &#8211; Longitude (in decimal degrees) of desired data value.</li>
<li><strong>method</strong> &#8211; Interpolation method, one of (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>default</strong> &#8211; Default value to return when lat/lon is outside of grid bounds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value at input latitude,longitude position.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.interpolateToGrid">
<code class="descname">interpolateToGrid</code><span class="sig-paren">(</span><em>geodict</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.interpolateToGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a geodict specifying another grid extent and resolution, resample current grid to match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>geodict</strong> &#8211; geodict dictionary from another grid whose extents are inside the extent of this grid.</li>
<li><strong>method</strong> &#8211; Optional interpolation method - [&#8216;linear&#8217;, &#8216;cubic&#8217;,&#8217;nearest&#8217;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>DataSetException</strong> &#8211; If the Grid object upon which this function is being called is not completely contained by the grid to which this Grid is being resampled.</li>
<li><strong>DataSetException</strong> &#8211; If the method is not one of [&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;]
If the resulting interpolated grid shape does not match input geodict.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function modifies the internal griddata and geodict object variables.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>gmtfilename</em>, <em>samplegeodict=None</em>, <em>preserve='dims'</em>, <em>resample=False</em>, <em>method='linear'</em>, <em>doPadding=False</em>, <em>padValue=nan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a GMTGrid object from a (possibly subsetted, resampled, or padded) GMT grid file.
:param gmtfilename:</p>
<blockquote>
<div>Name of input file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samplegeodict</strong> &#8211; GeoDict used to specify subset bounds and resolution (if resample is selected)</li>
<li><strong>preserve</strong> &#8211; String (one of &#8216;dims&#8217;,&#8217;shape&#8217;) indicating whether xdim/ydim of input geodict should be preserved or nrows/ncols.</li>
<li><strong>resample</strong> &#8211; Boolean used to indicate whether grid should be resampled from the file based on samplegeodict.</li>
<li><strong>method</strong> &#8211; If resample=True, resampling method to use (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>doPadding</strong> &#8211; Boolean used to indicate whether, if samplegeodict is outside bounds of grid, to pad values around the edges.</li>
<li><strong>padValue</strong> &#8211; Value to fill in around the edges if doPadding=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">GMTgrid instance (possibly subsetted, padded, or resampled)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last"><ul class="simple">
<li>When sample bounds are outside (or too close to outside) the bounds of the grid and doPadding=False.</li>
<li>When the input file type is not recognized.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.loadFromCloud">
<code class="descname">loadFromCloud</code><span class="sig-paren">(</span><em>cloud</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.loadFromCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a grid from a Cloud instance (scattered XY data).
:param cloud:</p>
<blockquote>
<div>A Cloud instance containing scattered XY data.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; A geodict object where nrows/ncols are optional (will be calculated from bounds/cell dimensions)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of a Grid object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.rasterizeFromGeometry">
<code class="descname">rasterizeFromGeometry</code><span class="sig-paren">(</span><em>shapes</em>, <em>samplegeodict</em>, <em>burnValue=1.0</em>, <em>fillValue=nan</em>, <em>allTouched=True</em>, <em>attribute=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.rasterizeFromGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Grid2D object from vector shapes, where the presence of a shape (point, line, polygon) inside a cell turns that cell &#8220;on&#8221;.
:param shapes:</p>
<blockquote>
<div><dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li>One shapely geometry object (Point, Polygon, etc.) or a sequence of such objects</li>
<li>One GeoJSON like object or sequence of such objects. (<a class="reference external" href="http://geojson.org/">http://geojson.org/</a>)</li>
<li>A tuple of (geometry,value) or sequence of (geometry,value).</li>
</ul>
</dd>
</dl>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samplegeodict</strong> &#8211; GeoDict with at least xmin,xmax,ymin,ymax,xdim,ydim values set.</li>
<li><strong>burnValue</strong> &#8211; Optional value which will be used to set the value of the pixels if there is no value in the geometry field.</li>
<li><strong>fillValue</strong> &#8211; Optional value which will be used to fill the cells not touched by any geometry.</li>
<li><strong>allTouched</strong> &#8211; Optional boolean which indicates whether the geometry must touch the center of the cell or merely be inside the cell in order to set the value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">When geometry input is not a subclass of shapely.geometry.base.BaseGeometry.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Grid2D object.</p>
</td>
</tr>
</tbody>
</table>
<p>This method is a thin wrapper around rasterio-&gt;features-&gt;rasterize(), documented here:
<a class="reference external" href="https://github.com/mapbox/rasterio/blob/master/docs/features.rst">https://github.com/mapbox/rasterio/blob/master/docs/features.rst</a></p>
<p>which is itself a Python wrapper around the functionality found in gdal_rasterize, documented here:
<a class="reference external" href="http://www.gdal.org/gdal_rasterize.html">http://www.gdal.org/gdal_rasterize.html</a></p>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.readGMTNative">
<em class="property">classmethod </em><code class="descname">readGMTNative</code><span class="sig-paren">(</span><em>fname</em>, <em>bounds=None</em>, <em>firstColumnDuplicated=False</em>, <em>fmt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.readGMTNative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.readGMTNative" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data and geo-referencing information from a GMT native grid file, subsetting if requested.
<a class="reference external" href="http://gmt.soest.hawaii.edu/doc/5.1.2/GMT_Docs.html#native-binary-grid-files">http://gmt.soest.hawaii.edu/doc/5.1.2/GMT_Docs.html#native-binary-grid-files</a>
:param fname:</p>
<blockquote>
<div>File name of GMT native grid</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax)</li>
<li><strong>firstColumnDuplicated</strong> &#8211; Boolean - is this a file where the last column of data is the same as the first (for grids that span entire globe).</li>
<li><strong>fmt</strong> &#8211; <blockquote>
<div><dl class="docutils">
<dt>Data width, one of: </dt>
<dd><ul class="first last">
<li>&#8216;i&#8217; (16 bit signed integer)</li>
<li>&#8216;l&#8217; (32 bit signed integer)</li>
<li>&#8216;f&#8217; (32 bit float)</li>
<li>&#8216;d&#8217; (64 bit float)</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>Strictly speaking, this is only necessary when the data file is 32 bit float or 32 bit integer, as there is
no <em>sure</em> way to tell from the header or data which data type is contained in the file.  If fmt is None, then
the code will try to guess as best it can from the data whether it is integer or floating point data. Caveat emptor!</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Tuple of data (2D numpy array of data, possibly subsetted from file) and geodict (see above).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises NotImplementedError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">For any bounds not None (we&#8217;ll get to it eventually!)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.readHDF">
<em class="property">classmethod </em><code class="descname">readHDF</code><span class="sig-paren">(</span><em>hdffile</em>, <em>bounds=None</em>, <em>firstColumnDuplicated=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.readHDF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.readHDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data and geo-referencing information from a GMT NetCDF4 (HDF) grid file, subsetting if requested.
:param hdffile:</p>
<blockquote>
<div>File name of GMT NetCDF4 grid</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Tuple of data (2D numpy array of data, possibly subsetted from file) and geodict (see above).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.gmt.GMTGrid.readNetCDF">
<em class="property">classmethod </em><code class="descname">readNetCDF</code><span class="sig-paren">(</span><em>filename</em>, <em>bounds=None</em>, <em>firstColumnDuplicated=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.readNetCDF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.readNetCDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data and geo-referencing information from a GMT NetCDF3 grid file, subsetting if requested.
:param filename:</p>
<blockquote>
<div>File name of GMT NetCDF3 grid</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Tuple of data (2D numpy array of data, possibly subsetted from file) and geodict (see above).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename</em>, <em>format='netcdf'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/gmt.html#GMTGrid.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.gmt.GMTGrid.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a GMTGrid object to a file.
:param filename:</p>
<blockquote>
<div>Name of desired output file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>format</strong> &#8211; One of &#8216;netcdf&#8217;,&#8217;hdf&#8217; or &#8216;native&#8217;.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">When format not one of (&#8216;netcdf,&#8217;hdf&#8217;,&#8217;native&#8217;)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.setData">
<code class="descname">setData</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the data inside the Grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; numpy array of desired data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.gmt.GMTGrid.trim">
<code class="descname">trim</code><span class="sig-paren">(</span><em>bounds</em>, <em>resample=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.gmt.GMTGrid.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim data to a smaller set of bounds, resampling if requested.  If not resampling,
data will be trimmed to largest grid boundary possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (lonmin,lonmax,latmin,latmax)</li>
<li><strong>resample</strong> &#8211; Boolean indicating whether the data should be resampled to <em>exactly</em> match input bounds.</li>
<li><strong>method</strong> &#8211; If resampling, method used, one of (&#8216;linear&#8217;,&#8217;nearest&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mapio-multihaz-module">
<h2>mapio.multihaz module<a class="headerlink" href="#mapio-multihaz-module" title="Permalink to this headline">¶</a></h2>
<p>MultiGrid subclass for reading,writing, and manipulating HDF format multi-hazard layer grids.</p>
<p>Usage:</p>
<p>Getting the geo-referencing information about a grid</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fgeodict</span> <span class="o">=</span> <span class="n">MultiHazardGrid</span><span class="o">.</span><span class="n">getFileGeoDict</span><span class="p">(</span><span class="n">hazfile</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmax&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymax&#39;</span><span class="p">]]</span>
<span class="k">print</span> <span class="s">&#39;The file spans from </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in longitude, and </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in latitude.&#39;</span> <span class="o">%</span> <span class="n">bounds</span>
</pre></div>
</div>
<p>Loading all data contained in the file (subsetting not supported at
this time), and retrieving various metadata fields:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">hazgrid</span> <span class="o">=</span> <span class="n">MultiHazardGrid</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">hazfile</span><span class="p">)</span>
<span class="n">origin</span> <span class="o">=</span> <span class="n">hazgrid</span><span class="o">.</span><span class="n">getOrigin</span><span class="p">()</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">hazgrid</span><span class="o">.</span><span class="n">getHeader</span><span class="p">()</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">hazgrid</span><span class="o">.</span><span class="n">getMetadata</span><span class="p">()</span>
<span class="n">geodict</span> <span class="o">=</span> <span class="n">hazgrid</span><span class="o">.</span><span class="n">getGeoDict</span><span class="p">()</span>
</pre></div>
</div>
<p>Creating a multi-hazard grid and saving to a file</p>
<div class="highlight-python"><div class="highlight"><pre>lsprob = np.random.rand(100,100)
lqprob = np.random.rand(100,100)
bounds = (-118.7834,-117.0123,32.8754,33.7896)
xdim,ydim = (0.02,0.02)
nrows,ncols = (-1,-1)
geodict =
MultiHazardGrid.fixGeoDict(bounds,xdim,ydim,nrows,ncols,preserve=&#39;dims&#39;)
layers = OrderedDict()
layers[&#39;landslide&#39;] = lsprob
layers[&#39;liquefaction&#39;] = lqprob
origin = {&#39;id&#39;:&#39;us2015abcd&#39;,
          &#39;source&#39;:&#39;us&#39;,
          &#39;time&#39;:datetime(2015,11,15,1,1,1),
          &#39;lat&#39;:32.1654,
          &#39;lon&#39;:-118.6543,
          &#39;depth&#39;:23.1,
          &#39;magnitude&#39;:5.8}
header = {&#39;type&#39;:&#39;gfe&#39;,
          &#39;version&#39;:1,
          &#39;process_time&#39;:datetime(2015,11,15,1,1,1),
          &#39;code_version&#39;:&#39;1.0&#39;,
          &#39;originator&#39;:&#39;us&#39;,
          &#39;product_id&#39;:&#39;us2015abcd&#39;,
          &#39;map_status&#39;:&#39;RELEASED&#39;,
          &#39;event_type&#39;:&#39;ACTUAL&#39;}
metadata = {&#39;creator&#39;:{&#39;name&#39;:&#39;Jane Smith&#39;,&#39;position&#39;:&#39;Secondary Hazard Technician&#39;}}
hazgrid = MultiHazardGrid(layers,geodict,origin,header,metadata)
</pre></div>
</div>
<p>This class supports reading and writing of all three GMT formats: NetCDF, HDF, and the GMT &#8220;native&#8221; format.</p>
<dl class="class">
<dt id="mapio.multihaz.MultiHazardGrid">
<em class="property">class </em><code class="descclassname">mapio.multihaz.</code><code class="descname">MultiHazardGrid</code><span class="sig-paren">(</span><em>layers</em>, <em>geodict</em>, <em>origin</em>, <em>header</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.blockmean">
<code class="descname">blockmean</code><span class="sig-paren">(</span><em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.blockmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to calculate average values for cells of larger size than the current grid.
:param geodict:</p>
<blockquote>
<div>Geodict that defines the new coarser grid.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.fixGeoDict">
<code class="descname">fixGeoDict</code><span class="sig-paren">(</span><em>bounds</em>, <em>xdim</em>, <em>ydim</em>, <em>nrows</em>, <em>ncols</em>, <em>preserve='dims'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.fixGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full geodict, with either input dimensions preserved or input shape/bounds preserved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax).  May be changed when preserve=&#8217;dims&#8217;.</li>
<li><strong>xdim</strong> &#8211; Width of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>ydim</strong> &#8211; Height of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>nrows</strong> &#8211; Number of rows.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>ncols</strong> &#8211; Number of columns.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>preserve</strong> &#8211; One of &#8216;dims&#8217; or &#8216;shape&#8217;.  Setting this to &#8216;dims&#8217; will keep input xdim/ydim values, 
and potentially modify the bounds and/or nrows/ncols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getBounds">
<code class="descname">getBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lat/lon range of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Tuple of (lonmin,lonmax,latmin,latmax)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getBoundsWithin">
<code class="descname">getBoundsWithin</code><span class="sig-paren">(</span><em>filename</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getBoundsWithin" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to return a geodict for this file that is guaranteed to be inside the input geodict defined, without resampling.
:param filename:</p>
<blockquote>
<div>The name of the file whose resolution/extent should be used.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; The geodict which is used as the base for finding the bounds for this file guaranteed to be inside of this geodict.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises NotImplementedError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Always in base class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getData">
<code class="descname">getData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OrderedDict of data layers contained in MultiGrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">OrderedDict of Grid2D objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.multihaz.MultiHazardGrid.getFileGeoDict">
<em class="property">classmethod </em><code class="descname">getFileGeoDict</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.getFileGeoDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getFileGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spatial extent, resolution, and shape of grid inside MultiHazardGrid format HDF file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> &#8211; File name of HDF file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">GeoDict specifying spatial extent, resolution, and shape of grid inside HDF file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getGeoDict">
<code class="descname">getGeoDict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the geodict object which defines the extent and resolution of all the grids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">geodict dictionary (see constructor)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getHeader">
<code class="descname">getHeader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.getHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the header dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Header dictionary (see setHeader()).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getLatLon">
<code class="descname">getLatLon</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getLatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return geographic coordinates (lat/lon decimal degrees) for given data row and column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> &#8211; Row dimension index into internal data array.</li>
<li><strong>col</strong> &#8211; Column dimension index into internal data array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of latitude and longitude.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getLayer">
<code class="descname">getLayer</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the 2D associated with a layer name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; Name of data layer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Grid2D object.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">When name is not found in list of layer names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getLayerNames">
<code class="descname">getLayerNames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getLayerNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of layer names contained in the MultiGrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of layer names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getMetadata">
<code class="descname">getMetadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.getMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dictionary of arbitrary metadata dictionaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of dictionaries containing arbitrary metadata.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getOrigin">
<code class="descname">getOrigin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.getOrigin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getOrigin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the origin dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Origin dictionary (see setOrigin()).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getRowCol">
<code class="descname">getRowCol</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>returnFloat=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getRowCol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data row and column from given geographic coordinates (lat/lon decimal degrees).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Input latitude.</li>
<li><strong>lon</strong> &#8211; Input longitude.</li>
<li><strong>returnFloat</strong> &#8211; Boolean indicating whether floating point row/col coordinates should be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of row and column.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.getValue">
<code class="descname">getValue</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>layername</em>, <em>method='nearest'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy array at given latitude and longitude (using nearest neighbor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude (in decimal degrees) of desired data value.</li>
<li><strong>lon</strong> &#8211; Longitude (in decimal degrees) of desired data value.</li>
<li><strong>layername</strong> &#8211; Name of layer from which to retrieve data.</li>
<li><strong>method</strong> &#8211; Interpolation method, one of (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>default</strong> &#8211; Default value to return when lat/lon is outside of grid bounds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value at input latitude,longitude position.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.interpolateToGrid">
<code class="descname">interpolateToGrid</code><span class="sig-paren">(</span><em>geodict</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.interpolateToGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a geodict specifying another grid extent and resolution, resample all grids to match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>geodict</strong> &#8211; geodict dictionary from another grid whose extents are inside the extent of this grid.</li>
<li><strong>method</strong> &#8211; Optional interpolation method - [&#8216;linear&#8217;, &#8216;cubic&#8217;,&#8217;quintic&#8217;,&#8217;nearest&#8217;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>DataSetException</strong> &#8211; If the Grid object upon which this function is being called is not completely contained by the grid to which this Grid is being resampled.</li>
<li><strong>DataSetException</strong> &#8211; If the resulting interpolated grid shape does not match input geodict.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function modifies the internal griddata and geodict object variables.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.multihaz.MultiHazardGrid.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from an HDF file into a MultiHazardGrid object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> &#8211; HDF file containing data and metadata for ShakeMap or Secondary Hazards data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">MultiHazardGrid object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.loadFromCloud">
<code class="descname">loadFromCloud</code><span class="sig-paren">(</span><em>cloud</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.loadFromCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a grid from a Cloud instance (scattered XY data).
:param cloud:</p>
<blockquote>
<div>A Cloud instance containing scattered XY data.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; A geodict object where nrows/ncols are optional (will be calculated from bounds/cell dimensions)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of a Grid object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save MultiHazardGrid object to HDF file.  
Georeferencing information will be saved as datasets &#8220;x&#8221; and &#8220;y&#8221;.  Layers will be saved as 
datasets named by layer keys.  Dictionaries contained in &#8220;origin&#8221;, and &#8220;header&#8221; will be saved in
groups of those same names.  Dictionaries contained in the &#8220;metadata&#8221; dictionary will be contained
in a series of recursive groups under a group called &#8220;metadata&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> &#8211; Output desired filename (HDF format).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.setData">
<code class="descname">setData</code><span class="sig-paren">(</span><em>layers</em>, <em>descriptions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OrderedDict of data layers contained in MultiGrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>layers</strong> &#8211; OrderedDict of Grid2D objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.setHeader">
<code class="descname">setHeader</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.setHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.setHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the header dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>header</strong> &#8211; <dl class="docutils">
<dt>Dictionary with elements:</dt>
<dd><ul class="first last simple">
<li>type Type of multi-layer earthquake induced hazard (&#8216;shakemap&#8217;,&#8217;gfe&#8217;)</li>
<li>version Integer product version (1)</li>
<li>process_time Python datetime indicating when data was created.</li>
<li>code_version String version of code that created this file (i.e.,&#8216;4.0&#8217;)</li>
<li>originator String representing network that created the hazard grid.</li>
<li>product_id String representing the ID of the product (may be different from origin ID)</li>
<li>map_status String, one of RELEASED, ??</li>
<li>event_type String, one of [&#8216;ACTUAL&#8217;,&#8217;SCENARIO&#8217;]</li>
</ul>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.setLayer">
<code class="descname">setLayer</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>desc=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.setLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a 2D layer of data to a MultiGrid object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; String which will be used to retrieve the data.</li>
<li><strong>data</strong> &#8211; 2D numpy array of data</li>
<li><strong>desc</strong> &#8211; Optional text description of layer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">If the data layer dimensions don&#8217;t match the geodict.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.setMetadata">
<code class="descname">setMetadata</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.setMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.setMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the metadata dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> &#8211; Dictionary of dictionaries of metadata.  Each dictionary can contain any of the following types:
str,unicode,int,float,long,list,tuple,np.ndarray,dict,datetime.datetime,collections.OrderedDict.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.setOrigin">
<code class="descname">setOrigin</code><span class="sig-paren">(</span><em>origin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/multihaz.html#MultiHazardGrid.setOrigin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.setOrigin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the origin dictionary.</p>
<dl class="docutils">
<dt>Dictionary with elements:</dt>
<dd><ul class="first last simple">
<li>id String of event ID (i.e., &#8216;us2015abcd&#8217;)</li>
<li>source String containing originating network (&#8216;us&#8217;)</li>
<li>time Float event magnitude</li>
<li>lat Float event latitude</li>
<li>lon Float event longitude</li>
<li>depth Float event depth</li>
<li>magnitude Datetime object representing event origin time.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mapio.multihaz.MultiHazardGrid.trim">
<code class="descname">trim</code><span class="sig-paren">(</span><em>bounds</em>, <em>resample=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.multihaz.MultiHazardGrid.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim all data layers to a smaller set of bounds, resampling if requested.  If not resampling,
data will be trimmed to smallest grid boundary possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (lonmin,lonmax,latmin,latmax)</li>
<li><strong>resample</strong> &#8211; Boolean indicating whether the data should be resampled to <em>exactly</em> match input bounds.</li>
<li><strong>method</strong> &#8211; If resampling, method used, one of (&#8216;linear&#8217;,&#8217;nearest&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mapio-shake-module">
<h2>mapio.shake module<a class="headerlink" href="#mapio-shake-module" title="Permalink to this headline">¶</a></h2>
<p>MultiGrid subclass for reading,writing, and manipulating XML format multi-hazard ShakeMap grids.</p>
<p>Usage:</p>
<p>Getting the geo-referencing information about a grid</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fgeodict</span> <span class="o">=</span> <span class="n">ShakeGrid</span><span class="o">.</span><span class="n">getFileGeoDict</span><span class="p">(</span><span class="n">hazfile</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;xmax&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymin&#39;</span><span class="p">],</span><span class="n">fgeodict</span><span class="p">[</span><span class="s">&#39;ymax&#39;</span><span class="p">]]</span>
<span class="k">print</span> <span class="s">&#39;The file spans from </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in longitude, and </span><span class="si">%.3f</span><span class="s"> to </span><span class="si">%.3f</span><span class="s"> in latitude.&#39;</span> <span class="o">%</span> <span class="n">bounds</span>
</pre></div>
</div>
<p>Loading all data contained in the file (subsetting not supported at
this time), and retrieving various metadata fields:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">shakegrid</span> <span class="o">=</span> <span class="n">ShakeGrid</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">hazfile</span><span class="p">)</span>
<span class="n">geodict</span> <span class="o">=</span> <span class="n">shakegrid</span><span class="o">.</span><span class="n">getGeoDict</span><span class="p">()</span>
<span class="n">pgagrid</span> <span class="o">=</span> <span class="n">shakegrid</span><span class="o">.</span><span class="n">getLayer</span><span class="p">(</span><span class="s">&#39;pga&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Creating a ShakeGrid and saving to a file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pga</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">pgv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">mmi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">118.7834</span><span class="p">,</span><span class="o">-</span><span class="mf">117.0123</span><span class="p">,</span><span class="mf">32.8754</span><span class="p">,</span><span class="mf">33.7896</span><span class="p">)</span>
<span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.02</span><span class="p">,</span><span class="mf">0.02</span><span class="p">)</span>
<span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">geodict</span> <span class="o">=</span> <span class="n">ShakeGrid</span><span class="o">.</span><span class="n">fixGeoDict</span><span class="p">(</span><span class="n">bounds</span><span class="p">,</span><span class="n">xdim</span><span class="p">,</span><span class="n">ydim</span><span class="p">,</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">preserve</span><span class="o">=</span><span class="s">&#39;dims&#39;</span><span class="p">)</span>
<span class="n">layers</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">layers</span><span class="p">[</span><span class="s">&#39;pga&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pga</span>
<span class="n">layers</span><span class="p">[</span><span class="s">&#39;pgv&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgv</span>
<span class="n">layers</span><span class="p">[</span><span class="s">&#39;mmi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mmi</span>
<span class="n">eventdict</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;event_id&#39;</span><span class="p">:</span><span class="s">&#39;us2015abcd&#39;</span><span class="p">,</span>
             <span class="s">&#39;event_network&#39;</span><span class="p">:</span><span class="s">&#39;us&#39;</span><span class="p">,</span>
             <span class="s">&#39;event_timestamp&#39;</span><span class="p">:</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
             <span class="s">&#39;lat&#39;</span><span class="p">:</span><span class="mf">32.1654</span><span class="p">,</span>
             <span class="s">&#39;lon&#39;</span><span class="p">:</span><span class="o">-</span><span class="mf">118.6543</span><span class="p">,</span>
             <span class="s">&#39;depth&#39;</span><span class="p">:</span><span class="mf">23.1</span><span class="p">,</span>
             <span class="s">&#39;magnitude&#39;</span><span class="p">:</span><span class="mf">5.8</span><span class="p">}</span>
<span class="n">shakedict</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;event_id&#39;</span><span class="p">:</span><span class="s">&#39;us2015abcd&#39;</span><span class="p">,</span>
             <span class="s">&#39;shakemap_id&#39;</span><span class="p">:</span><span class="s">&#39;us2015abcd&#39;</span><span class="p">,</span>
             <span class="s">&#39;shakemap_version&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
             <span class="s">&#39;process_timestamp&#39;</span><span class="p">:</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
             <span class="s">&#39;code_version&#39;</span><span class="p">:</span><span class="s">&#39;1.0&#39;</span><span class="p">,</span>
             <span class="s">&#39;shakemap_originator&#39;</span><span class="p">:</span><span class="s">&#39;us&#39;</span><span class="p">,</span>
             <span class="s">&#39;map_status&#39;</span><span class="p">:</span><span class="s">&#39;RELEASED&#39;</span><span class="p">,</span>
             <span class="s">&#39;shakemap_event_type&#39;</span><span class="p">:</span><span class="s">&#39;ACTUAL&#39;</span><span class="p">}</span>
<span class="n">uncertainty</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;pga&#39;</span><span class="p">:(</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
               <span class="s">&#39;mmi&#39;</span><span class="p">:(</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
               <span class="s">&#39;pgv&#39;</span><span class="p">:(</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">0</span><span class="p">)}</span>
<span class="n">shakegrid</span> <span class="o">=</span> <span class="n">ShakeGrid</span><span class="p">(</span><span class="n">layers</span><span class="p">,</span><span class="n">geodict</span><span class="p">,</span><span class="n">eventdict</span><span class="p">,</span><span class="n">shakedict</span><span class="p">,</span><span class="n">uncertainty</span><span class="p">)</span>
</pre></div>
</div>
<p>This class supports reading and writing of ShakeMaps in XML format.</p>
<dl class="class">
<dt id="mapio.shake.ShakeGrid">
<em class="property">class </em><code class="descclassname">mapio.shake.</code><code class="descname">ShakeGrid</code><span class="sig-paren">(</span><em>layers</em>, <em>geodict</em>, <em>eventDict</em>, <em>shakeDict</em>, <em>uncertaintyDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/shake.html#ShakeGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.shake.ShakeGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that implements a MultiGrid object around ShakeMap grid.xml data sets.</p>
<dl class="method">
<dt id="mapio.shake.ShakeGrid.blockmean">
<code class="descname">blockmean</code><span class="sig-paren">(</span><em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.blockmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to calculate average values for cells of larger size than the current grid.
:param geodict:</p>
<blockquote>
<div>Geodict that defines the new coarser grid.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.fixGeoDict">
<code class="descname">fixGeoDict</code><span class="sig-paren">(</span><em>bounds</em>, <em>xdim</em>, <em>ydim</em>, <em>nrows</em>, <em>ncols</em>, <em>preserve='dims'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.fixGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full geodict, with either input dimensions preserved or input shape/bounds preserved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (xmin,xmax,ymin,ymax).  May be changed when preserve=&#8217;dims&#8217;.</li>
<li><strong>xdim</strong> &#8211; Width of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>ydim</strong> &#8211; Height of cells in same units as bounds.  Will be overwritten when preserve=&#8217;shape&#8217;.</li>
<li><strong>nrows</strong> &#8211; Number of rows.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>ncols</strong> &#8211; Number of columns.  Will be overwritten when preserve=&#8217;dims&#8217;.</li>
<li><strong>preserve</strong> &#8211; One of &#8216;dims&#8217; or &#8216;shape&#8217;.  Setting this to &#8216;dims&#8217; will keep input xdim/ydim values, 
and potentially modify the bounds and/or nrows/ncols.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getBounds">
<code class="descname">getBounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getBounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lat/lon range of the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Tuple of (lonmin,lonmax,latmin,latmax)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getBoundsWithin">
<code class="descname">getBoundsWithin</code><span class="sig-paren">(</span><em>filename</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getBoundsWithin" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to return a geodict for this file that is guaranteed to be inside the input geodict defined, without resampling.
:param filename:</p>
<blockquote>
<div>The name of the file whose resolution/extent should be used.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; The geodict which is used as the base for finding the bounds for this file guaranteed to be inside of this geodict.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises NotImplementedError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Always in base class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getData">
<code class="descname">getData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OrderedDict of data layers contained in MultiGrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">OrderedDict of Grid2D objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.shake.ShakeGrid.getFileGeoDict">
<em class="property">classmethod </em><code class="descname">getFileGeoDict</code><span class="sig-paren">(</span><em>shakefilename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/shake.html#ShakeGrid.getFileGeoDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.shake.ShakeGrid.getFileGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spatial extent, resolution, and shape of grids inside ShakeMap grid file.
:param filename:</p>
<blockquote>
<div>File name of ShakeMap grid file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">GeoDict specifying spatial extent, resolution, and shape of grids inside ShakeMap grid file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getGeoDict">
<code class="descname">getGeoDict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getGeoDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the geodict object which defines the extent and resolution of all the grids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">geodict dictionary (see constructor)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getLatLon">
<code class="descname">getLatLon</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getLatLon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return geographic coordinates (lat/lon decimal degrees) for given data row and column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> &#8211; Row dimension index into internal data array.</li>
<li><strong>col</strong> &#8211; Column dimension index into internal data array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of latitude and longitude.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getLayer">
<code class="descname">getLayer</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the 2D associated with a layer name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; Name of data layer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Grid2D object.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">When name is not found in list of layer names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getLayerNames">
<code class="descname">getLayerNames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getLayerNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of layer names contained in the MultiGrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of layer names.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getRowCol">
<code class="descname">getRowCol</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>returnFloat=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getRowCol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data row and column from given geographic coordinates (lat/lon decimal degrees).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Input latitude.</li>
<li><strong>lon</strong> &#8211; Input longitude.</li>
<li><strong>returnFloat</strong> &#8211; Boolean indicating whether floating point row/col coordinates should be returned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of row and column.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.getValue">
<code class="descname">getValue</code><span class="sig-paren">(</span><em>lat</em>, <em>lon</em>, <em>layername</em>, <em>method='nearest'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy array at given latitude and longitude (using nearest neighbor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude (in decimal degrees) of desired data value.</li>
<li><strong>lon</strong> &#8211; Longitude (in decimal degrees) of desired data value.</li>
<li><strong>layername</strong> &#8211; Name of layer from which to retrieve data.</li>
<li><strong>method</strong> &#8211; Interpolation method, one of (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>default</strong> &#8211; Default value to return when lat/lon is outside of grid bounds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value at input latitude,longitude position.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.interpolateToGrid">
<code class="descname">interpolateToGrid</code><span class="sig-paren">(</span><em>geodict</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.interpolateToGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a geodict specifying another grid extent and resolution, resample all grids to match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>geodict</strong> &#8211; geodict dictionary from another grid whose extents are inside the extent of this grid.</li>
<li><strong>method</strong> &#8211; Optional interpolation method - [&#8216;linear&#8217;, &#8216;cubic&#8217;,&#8217;quintic&#8217;,&#8217;nearest&#8217;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>DataSetException</strong> &#8211; If the Grid object upon which this function is being called is not completely contained by the grid to which this Grid is being resampled.</li>
<li><strong>DataSetException</strong> &#8211; If the resulting interpolated grid shape does not match input geodict.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function modifies the internal griddata and geodict object variables.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mapio.shake.ShakeGrid.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>shakefilename</em>, <em>samplegeodict=None</em>, <em>resample=False</em>, <em>method='linear'</em>, <em>doPadding=False</em>, <em>padValue=nan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/shake.html#ShakeGrid.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.shake.ShakeGrid.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ShakeGrid object from a ShakeMap grid.xml file.
:param shakefilename:</p>
<blockquote>
<div>File name or File-like object of ShakeMap grid.xml file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samplegeodict</strong> &#8211; GeoDict used to specify subset bounds and resolution (if resample is selected)</li>
<li><strong>resample</strong> &#8211; Boolean used to indicate whether grid should be resampled from the file based on samplegeodict.</li>
<li><strong>method</strong> &#8211; If resample=True, resampling method to use (&#8216;nearest&#8217;,&#8217;linear&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
<li><strong>doPadding</strong> &#8211; Boolean used to indicate whether, if samplegeodict is outside bounds of grid, to pad values around the edges.</li>
<li><strong>padValue</strong> &#8211; Value to fill in around the edges if doPadding=True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ShakeGrid object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.loadFromCloud">
<code class="descname">loadFromCloud</code><span class="sig-paren">(</span><em>cloud</em>, <em>geodict</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.loadFromCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a grid from a Cloud instance (scattered XY data).
:param cloud:</p>
<blockquote>
<div>A Cloud instance containing scattered XY data.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>geodict</strong> &#8211; A geodict object where nrows/ncols are optional (will be calculated from bounds/cell dimensions)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of a Grid object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename</em>, <em>version=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mapio/shake.html#ShakeGrid.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mapio.shake.ShakeGrid.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a ShakeGrid object to the grid.xml format.
:param filename:</p>
<blockquote>
<div>File name or file-like object.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>version</strong> &#8211; Integer Shakemap version number.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.setData">
<code class="descname">setData</code><span class="sig-paren">(</span><em>layers</em>, <em>descriptions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OrderedDict of data layers contained in MultiGrid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>layers</strong> &#8211; OrderedDict of Grid2D objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.setLayer">
<code class="descname">setLayer</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>desc=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.setLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a 2D layer of data to a MultiGrid object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; String which will be used to retrieve the data.</li>
<li><strong>data</strong> &#8211; 2D numpy array of data</li>
<li><strong>desc</strong> &#8211; Optional text description of layer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises DataSetException:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">If the data layer dimensions don&#8217;t match the geodict.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mapio.shake.ShakeGrid.trim">
<code class="descname">trim</code><span class="sig-paren">(</span><em>bounds</em>, <em>resample=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#mapio.shake.ShakeGrid.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim all data layers to a smaller set of bounds, resampling if requested.  If not resampling,
data will be trimmed to smallest grid boundary possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounds</strong> &#8211; Tuple of (lonmin,lonmax,latmin,latmax)</li>
<li><strong>resample</strong> &#8211; Boolean indicating whether the data should be resampled to <em>exactly</em> match input bounds.</li>
<li><strong>method</strong> &#8211; If resampling, method used, one of (&#8216;linear&#8217;,&#8217;nearest&#8217;,&#8217;cubic&#8217;,&#8217;quintic&#8217;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mapio package</a><ul>
<li><a class="reference internal" href="#mapio-grid2d-module">mapio.grid2d module</a></li>
<li><a class="reference internal" href="#mapio-gdal-module">mapio.gdal module</a></li>
<li><a class="reference internal" href="#mapio-gmt-module">mapio.gmt module</a></li>
<li><a class="reference internal" href="#mapio-multihaz-module">mapio.multihaz module</a></li>
<li><a class="reference internal" href="#mapio-shake-module">mapio.shake module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to MapIO&#8217;s documentation!</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/mapio.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Mike Hearne.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="_sources/mapio.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>